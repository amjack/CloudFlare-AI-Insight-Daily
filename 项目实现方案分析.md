# CloudFlare-AI-Insight-Daily é¡¹ç›®å®ç°æ–¹æ¡ˆåˆ†æ

> ä¸€ä»½å®Œæ•´çš„ AI èµ„è®¯æ—¥æŠ¥ç”Ÿæˆå¹³å°æŠ€æœ¯æ¶æ„ä¸å®ç°æ–¹æ¡ˆæ–‡æ¡£

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**AI èµ„è®¯æ—¥æŠ¥** æ˜¯ä¸€ä¸ªåŸºäº **Cloudflare Workers** çš„å†…å®¹èšåˆä¸ç”Ÿæˆå¹³å°ã€‚å®ƒæ¯æ—¥ä¸ºç”¨æˆ·ç²¾é€‰ AI é¢†åŸŸçš„æœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬è¡Œä¸šæ–°é—»ã€çƒ­é—¨å¼€æºé¡¹ç›®ã€å‰æ²¿å­¦æœ¯è®ºæ–‡ã€ç§‘æŠ€å¤§Vç¤¾äº¤åª’ä½“è¨€è®ºï¼Œå¹¶é€šè¿‡ AI æ¨¡å‹è¿›è¡Œæ™ºèƒ½å¤„ç†ä¸æ‘˜è¦ç”Ÿæˆï¼Œæœ€ç»ˆè‡ªåŠ¨å‘å¸ƒåˆ° GitHub Pagesã€‚

### æ ¸å¿ƒä»·å€¼

| ç”¨æˆ·ç¾¤ä½“ | ç—›ç‚¹ | è§£å†³æ–¹æ¡ˆ |
|---------|------|----------|
| AI ä»ä¸šè€…ä¸ç ”ç©¶è€… | ä¿¡æ¯æµ·æ´‹æ— è¾¹ï¼Œç­›é€‰è€—æ—¶ | è‡ªåŠ¨åŒ–ç²¾ç‚¼æ¯æ—¥æ ¸å¿ƒå†…å®¹ |
| å†…å®¹åˆ›ä½œè€… | é€‰é¢˜æ¯ç«­ã€ç´ ææœé›†ç¹ç | ç”Ÿæˆç»“æ„åŒ–æ’­å®¢/è§†é¢‘å£æ’­ç¨¿ |
| å¼€å‘è€… | ç¼ºå°‘å®Œæ•´å­¦ä¹ é¡¹ç›® | æä¾› Serverless + AI é›†æˆèŒƒä¾‹ |
| ç»ˆèº«å­¦ä¹ è€… | AI é¢†åŸŸé—¨æ§›é«˜ | æä¾›ç²¾ç‚¼ã€æ˜“è¯»çš„æ—¥æŠ¥å†…å®¹ |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„æ€»è§ˆ

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             ç”¨æˆ·æµè§ˆå™¨ (Frontend)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ç™»å½•è®¤è¯é¡µé¢    â”‚  â”‚  å†…å®¹é€‰æ‹©é¡µé¢    â”‚  â”‚   AI ç”Ÿæˆç»“æœé¡µé¢           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚                        â”‚
            â–¼                     â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Cloudflare Workers (Backend)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         src/index.js (è·¯ç”±å…¥å£)                       â”‚   â”‚
â”‚  â”‚  /login, /logout, /getContentHtml, /writeData, /genAIContent...     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â–¼                          â–¼                          â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Handlers   â”‚          â”‚  Data Fetchers  â”‚         â”‚   Chat API      â”‚   â”‚
â”‚  â”‚ (ä¸šåŠ¡é€»è¾‘)   â”‚          â”‚  (æ•°æ®æŠ“å–æ¨¡å—)  â”‚         â”‚  (AI è°ƒç”¨æ¨¡å—)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                       â”‚                          â”‚
            â–¼                       â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cloudflare KV    â”‚    â”‚ External APIs    â”‚    â”‚     AI Model APIs          â”‚
â”‚ (æ•°æ®æŒä¹…åŒ–)      â”‚    â”‚ Folo, GitHubç­‰    â”‚    â”‚  Gemini / OpenAI          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                â”‚    GitHub API              â”‚
                                                â”‚  (æ—¥æŠ¥/æ’­å®¢è„šæœ¬å‘å¸ƒ)         â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|-----|---------|------|
| **è¿è¡Œç¯å¢ƒ** | Cloudflare Workers | è¾¹ç¼˜è®¡ç®—ã€Serverlessã€é›¶æœåŠ¡å™¨ç»´æŠ¤ |
| **æ•°æ®å­˜å‚¨** | Cloudflare KV | é”®å€¼å¯¹å­˜å‚¨ã€ä½å»¶è¿Ÿã€è‡ªåŠ¨è¿‡æœŸ |
| **AI æ¨¡å‹** | Google Gemini / OpenAI å…¼å®¹ API | æ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ (DeepSeek ç­‰) |
| **å†…å®¹æº** | Folo APIã€GitHub Trending API | å¯æ‰©å±•çš„æ•°æ®æºæ¶æ„ |
| **å‘å¸ƒæ¸ é“** | GitHub Pagesã€RSS | é™æ€ç«™ç‚¹æ‰˜ç®¡ã€è®¢é˜…åˆ†å‘ |
| **å¼€å‘å·¥å…·** | Wrangler CLI | æœ¬åœ°å¼€å‘ã€éƒ¨ç½²ç®¡ç† |

---

## ğŸ“‚ é¡¹ç›®ç›®å½•ç»“æ„

```
CloudFlare-AI-Insight-Daily/
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.js                   # ğŸš€ Worker ä¸»å…¥å£ï¼Œè·¯ç”±åˆ†å‘
â”‚   â”œâ”€â”€ auth.js                    # ğŸ” ç™»å½•è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ chatapi.js                 # ğŸ¤– AI æ¨¡å‹è°ƒç”¨å°è£… (Gemini/OpenAI)
â”‚   â”œâ”€â”€ dataFetchers.js            # ğŸ“Š æ•°æ®æºæ³¨å†Œä¸è°ƒåº¦
â”‚   â”œâ”€â”€ github.js                  # ğŸ“¦ GitHub API å°è£…
â”‚   â”œâ”€â”€ kv.js                      # ğŸ’¾ KV å­˜å‚¨æ“ä½œå°è£…
â”‚   â”œâ”€â”€ helpers.js                 # ğŸ› ï¸ å·¥å…·å‡½æ•°é›†
â”‚   â”œâ”€â”€ htmlGenerators.js          # ğŸ¨ HTML é¡µé¢ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ marked.esm.js              # ğŸ“ Markdown è§£æåº“
â”‚   â”œâ”€â”€ foot.js                    # ğŸ“„ é¡µè„šæ¨¡æ¿
â”‚   â”œâ”€â”€ ad.js                      # ğŸ“¢ å¹¿å‘Šæ¨¡æ¿
â”‚   â”‚
â”‚   â”œâ”€â”€ dataSources/               # ğŸ“¡ æ•°æ®æºå®ç°
â”‚   â”‚   â”œâ”€â”€ newsAggregator.js      # Folo æ–°é—»èšåˆ
â”‚   â”‚   â”œâ”€â”€ github-trending.js     # GitHub è¶‹åŠ¿é¡¹ç›®
â”‚   â”‚   â”œâ”€â”€ papers.js              # å­¦æœ¯è®ºæ–‡ (HuggingFace)
â”‚   â”‚   â”œâ”€â”€ twitter.js             # Twitter/X ç¤¾äº¤å†…å®¹
â”‚   â”‚   â”œâ”€â”€ reddit.js              # Reddit ç¤¾åŒºå†…å®¹
â”‚   â”‚   â”œâ”€â”€ aibase.js              # AI Base èµ„è®¯
â”‚   â”‚   â”œâ”€â”€ xiaohu.js              # å°äº’ AI èµ„è®¯
â”‚   â”‚   â”œâ”€â”€ jiqizhixin.js          # æœºå™¨ä¹‹å¿ƒ
â”‚   â”‚   â”œâ”€â”€ xinzhiyuan.js          # æ–°æ™ºå…ƒ
â”‚   â”‚   â”œâ”€â”€ qbit.js                # QBit èµ„è®¯
â”‚   â”‚   â””â”€â”€ huggingface-papers.js  # HuggingFace è®ºæ–‡
â”‚   â”‚
â”‚   â”œâ”€â”€ handlers/                  # ğŸ“¬ è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ getContent.js          # è·å–åŸå§‹å†…å®¹
â”‚   â”‚   â”œâ”€â”€ getContentHtml.js      # ç”Ÿæˆå†…å®¹é€‰æ‹©é¡µé¢
â”‚   â”‚   â”œâ”€â”€ writeData.js           # æŠ“å–å¹¶å†™å…¥æ•°æ®
â”‚   â”‚   â”œâ”€â”€ genAIContent.js        # AI æ—¥æŠ¥/æ’­å®¢è„šæœ¬ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ genAIDailyPage.js      # AI æ—¥æŠ¥é¡µé¢ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ commitToGitHub.js      # æäº¤åˆ° GitHub
â”‚   â”‚   â”œâ”€â”€ getRss.js              # RSS è®¢é˜…ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ writeRssData.js        # RSS æ•°æ®å†™å…¥
â”‚   â”‚
â”‚   â””â”€â”€ prompt/                    # ğŸ’¬ AI æç¤ºè¯æ¨¡æ¿
â”‚       â”œâ”€â”€ summarizationPromptStepZero.js    # æ‘˜è¦æç¤ºè¯ (åˆå§‹)
â”‚       â”œâ”€â”€ summarizationPromptStepOne.js     # æ‘˜è¦æç¤ºè¯ (ç¬¬ä¸€æ­¥)
â”‚       â”œâ”€â”€ summarizationPromptStepTwo.js     # æ‘˜è¦æç¤ºè¯ (ç¬¬äºŒæ­¥)
â”‚       â”œâ”€â”€ summarizationPromptStepThree.js   # æ‘˜è¦æç¤ºè¯ (ç¬¬ä¸‰æ­¥)
â”‚       â”œâ”€â”€ summarizationSimplifyPrompt.js    # ç®€åŒ–æç¤ºè¯
â”‚       â”œâ”€â”€ podcastFormattingPrompt.js        # æ’­å®¢è„šæœ¬æ ¼å¼åŒ–
â”‚       â””â”€â”€ dailyAnalysisPrompt.js            # æ—¥æŠ¥åˆ†ææç¤ºè¯
â”‚
â”œâ”€â”€ cron-docker/                   # ğŸ³ Docker å®šæ—¶ä»»åŠ¡é…ç½®
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ entrypoint.sh
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ work/
â”‚           â”œâ”€â”€ gen.sh
â”‚           â”œâ”€â”€ github.sh
â”‚           â””â”€â”€ book.toml
â”‚
â”œâ”€â”€ docs/                          # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ DEPLOYMENT.md              # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ EXTENDING.md               # æ‰©å±•æŒ‡å—
â”‚   â””â”€â”€ images/                    # æ–‡æ¡£å›¾ç‰‡
â”‚
â”œâ”€â”€ wrangler.toml                  # âš™ï¸ Cloudflare Workers é…ç½®
â”œâ”€â”€ book.toml                      # ğŸ“– mdBook é…ç½®
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### 1. å®Œæ•´å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å®Œæ•´å·¥ä½œæµç¨‹                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   ç”¨æˆ·ç™»å½•    â”‚
     â”‚  /login      â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  å†…å®¹é€‰æ‹©é¡µé¢  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”‚  ä» KV è¯»å–ä»Šæ—¥å„åˆ†ç±»æ•°æ®                     â”‚
     â”‚/getContentHtmlâ”‚        â”‚  news, project, paper, socialMedia         â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ ç”¨æˆ·ç‚¹å‡»ã€ŒæŠ“å–å¹¶å†™å…¥ä»Šæ—¥æ•°æ®ã€
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  æ•°æ®æŠ“å–     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  å¹¶è¡Œè°ƒç”¨å¤šä¸ªæ•°æ®æº                          â”‚
     â”‚  /writeData   â”‚        â”‚  Folo API â†’ æ–°é—»ã€è®ºæ–‡ã€Twitterã€Reddit      â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  GitHub Trending API â†’ å¼€æºé¡¹ç›®              â”‚
            â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ æ•°æ®å†™å…¥ KV (æŒ‰æ—¥æœŸ+åˆ†ç±»ä½œä¸º Key)
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  ç”¨æˆ·å‹¾é€‰å†…å®¹  â”‚  â† æ‰‹åŠ¨ç­›é€‰ï¼Œä¿ç•™äººçš„åˆ¤æ–­åŠ›
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ æäº¤é€‰ä¸­å†…å®¹
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                     AI å†…å®¹ç”Ÿæˆæµæ°´çº¿ (/genAIContent)                 â”‚
     â”‚                                                                      â”‚
     â”‚  Step 1: å†…å®¹æ‘˜è¦                                                    â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
     â”‚  â”‚ System Prompt: æ–‡æœ¬æ‘˜è¦åŠ©ç†ï¼ŒæŒ‰ç±»å‹æ‰§è¡Œç‰¹å®šæ‘˜è¦                   â”‚   â”‚
     â”‚  â”‚ User Input: é€‰ä¸­çš„æ–°é—»/é¡¹ç›®/è®ºæ–‡/ç¤¾äº¤åª’ä½“å†…å®¹                     â”‚   â”‚
     â”‚  â”‚ Output: ç»“æ„åŒ–çš„ä¸­æ–‡æ‘˜è¦ (Markdown æ ¼å¼)                         â”‚   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
     â”‚                              â”‚                                       â”‚
     â”‚                              â–¼                                       â”‚
     â”‚  Step 2: ä»Šæ—¥æ‘˜è¦ç”Ÿæˆ                                                â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
     â”‚  â”‚ å¯¹ Step 1 è¾“å‡ºè¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œç”Ÿæˆã€Œä»Šæ—¥æ‘˜è¦ã€ç²¾åç‰ˆ                  â”‚   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
     â”‚                              â”‚                                       â”‚
     â”‚                              â–¼                                       â”‚
     â”‚  Output: AI æ—¥æŠ¥ (Markdown)                                          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ ç”¨æˆ·ç‚¹å‡»ã€Œç”Ÿæˆæ’­å®¢è„šæœ¬ã€
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   æ’­å®¢è„šæœ¬ç”Ÿæˆ (/genAIPodcastScript)                  â”‚
     â”‚                                                                      â”‚
     â”‚  Step 3: é•¿ç‰ˆæ’­å®¢è„šæœ¬                                                â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
     â”‚  â”‚ ç›®æ ‡å—ä¼—: ä¸Šç­æ—ã€AI çˆ±å¥½è€…                                       â”‚   â”‚
     â”‚  â”‚ é£æ ¼: è½»æ¾å¹½é»˜ï¼Œåƒå¾å¿—èƒœè®²è„±å£ç§€                                   â”‚   â”‚
     â”‚  â”‚ æ—¶é•¿: 5 åˆ†é’Ÿä»¥å†…å£æ’­                                              â”‚   â”‚
     â”‚  â”‚ åŒ…å«: å›ºå®šå¼€åœºç™½ + æ­£æ–‡ + ç»“æŸè¯­ + å…³é”®è¯åˆ—è¡¨                      â”‚   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
     â”‚                              â”‚                                       â”‚
     â”‚  Step 4: çŸ­ç‰ˆæ’­å®¢è„šæœ¬                                                â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
     â”‚  â”‚ ç´§å‡‘ç®€æ´ï¼Œæ¯éƒ¨åˆ†å†…å®¹ç”¨ä¸€å¥è¯è¡¨è¿°æ¸…æ¥š                               â”‚   â”‚
     â”‚  â”‚ ä¸è¦è§£é‡Šæ€§è¯­å¥ï¼Œç›´æ¥æ’­æŠ¥æ–°é—»                                       â”‚   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ ç”¨æˆ·ç‚¹å‡»ã€Œä¿å­˜åˆ° GitHubã€
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    GitHub å‘å¸ƒ (/commitToGitHub)                     â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚  â”‚  daily/YYYY-MM-DD.md   â†’  æ—¥æŠ¥ Markdown æ–‡ä»¶                     â”‚ â”‚
     â”‚  â”‚  podcast/YYYY-MM-DD.md â†’  æ’­å®¢è„šæœ¬ Markdown æ–‡ä»¶                 â”‚ â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ GitHub Actions è§¦å‘
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    GitHub Pages é™æ€ç«™ç‚¹ç”Ÿæˆ                         â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚  â”‚  ä½¿ç”¨ mdBook å°† Markdown è½¬æ¢ä¸ºé™æ€ HTML                         â”‚ â”‚
     â”‚  â”‚  éƒ¨ç½²åˆ° GitHub Pages                                             â”‚ â”‚
     â”‚  â”‚  ç”Ÿæˆ RSS è®¢é˜…æº                                                 â”‚ â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. API è·¯ç”±è®¾è®¡

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ | è®¤è¯ |
|-----|------|------|------|
| `/login` | GET/POST | ç”¨æˆ·ç™»å½• | âŒ |
| `/logout` | GET | ç”¨æˆ·ç™»å‡º | âŒ |
| `/getContent` | GET | è·å–åŸå§‹æ•°æ® | âŒ |
| `/getContentHtml` | GET | å†…å®¹é€‰æ‹©é¡µé¢ | âœ… |
| `/writeData` | POST | æŠ“å–å¹¶å†™å…¥æ•°æ® | âœ… |
| `/genAIContent` | POST | ç”Ÿæˆ AI æ—¥æŠ¥ | âœ… |
| `/genAIPodcastScript` | POST | ç”Ÿæˆæ’­å®¢è„šæœ¬ | âœ… |
| `/genAIDailyAnalysis` | POST | AI æ—¥æŠ¥åˆ†æ | âœ… |
| `/genAIDailyPage` | GET | æ—¥æŠ¥é¡µé¢ç”Ÿæˆ | âœ… |
| `/commitToGitHub` | POST | æäº¤åˆ° GitHub | âœ… |
| `/rss` | GET | RSS è®¢é˜…æº | âŒ |
| `/writeRssData` | GET | å†™å…¥ RSS æ•°æ® | âŒ |

---

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. è®¤è¯æ¨¡å— (`src/auth.js`)

```javascript
// æ ¸å¿ƒæœºåˆ¶
- åŸºäº Session Cookie çš„è®¤è¯
- Session å­˜å‚¨åœ¨ Cloudflare KV
- è‡ªåŠ¨ç»­æœŸæœºåˆ¶ (æ¯æ¬¡è¯·æ±‚åˆ·æ–°è¿‡æœŸæ—¶é—´)
- Session æœ‰æ•ˆæœŸ: 1 å°æ—¶

// è®¤è¯æµç¨‹
1. ç”¨æˆ·è®¿é—®å—ä¿æŠ¤è·¯ç”± â†’ æ£€æŸ¥ Cookie
2. ä» KV éªŒè¯ Session ID æœ‰æ•ˆæ€§
3. æœ‰æ•ˆ: ç»­æœŸ Sessionï¼Œè¿”å›å†…å®¹
4. æ— æ•ˆ: é‡å®šå‘åˆ° /login

// å…³é”®é…ç½®
SESSION_COOKIE_NAME = 'session_id_89757'
SESSION_EXPIRATION_SECONDS = 3600  // 1 å°æ—¶
```

### 2. æ•°æ®æŠ“å–æ¨¡å— (`src/dataFetchers.js`)

```javascript
// æ•°æ®æºæ³¨å†Œè¡¨
export const dataSources = {
    news: { name: 'æ–°é—»', sources: [NewsAggregatorDataSource] },
    project: { name: 'é¡¹ç›®', sources: [GithubTrendingDataSource] },
    paper: { name: 'è®ºæ–‡', sources: [PapersDataSource] },
    socialMedia: { name: 'ç¤¾äº¤å¹³å°', sources: [TwitterDataSource, RedditDataSource] },
};

// æ•°æ®æºæ¥å£è§„èŒƒ
interface DataSource {
    type: string;                              // æ•°æ®æºç±»å‹æ ‡è¯†
    fetch(env, foloCookie): Promise<RawData>;  // æŠ“å–åŸå§‹æ•°æ®
    transform(rawData, sourceType): UnifiedData[]; // è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
    generateHtml(item): string;                // ç”Ÿæˆå±•ç¤º HTML (å¯é€‰)
}

// ç»Ÿä¸€æ•°æ®æ ¼å¼
interface UnifiedData {
    id: string;
    type: string;           // 'news' | 'project' | 'paper' | 'socialMedia'
    url: string;
    title: string;
    description: string;
    published_date: string;
    authors: string;
    source: string;
    details: {
        content_html?: string;
        totalStars?: number;
        // ... å…¶ä»–ç±»å‹ç‰¹å®šå­—æ®µ
    }
}
```

### 3. AI è°ƒç”¨æ¨¡å— (`src/chatapi.js`)

```javascript
// æ”¯æŒçš„ AI å¹³å°
- Google Gemini (é»˜è®¤)
- OpenAI å…¼å®¹ API (DeepSeek ç­‰)

// è°ƒç”¨æ¨¡å¼
- éæµå¼è°ƒç”¨: callChatAPI()
- æµå¼è°ƒç”¨: callChatAPIStream()  // AsyncGenerator

// å¹³å°åˆ‡æ¢
const platform = env.USE_MODEL_PLATFORM;  // 'GEMINI' | 'OPEN'

// Gemini API è°ƒç”¨
URL: ${GEMINI_API_URL}/v1beta/models/${model}:generateContent
ç‰¹æ€§: æ”¯æŒ systemInstruction, æµå¼ä½¿ç”¨ SSE

// OpenAI å…¼å®¹ API è°ƒç”¨
URL: ${OPENAI_API_URL}/v1/chat/completions
ç‰¹æ€§: æ ‡å‡† OpenAI æ ¼å¼, æ”¯æŒ stream: true
```

### 4. KV å­˜å‚¨æ¨¡å— (`src/kv.js`)

```javascript
// å­˜å‚¨æ“ä½œ
storeInKV(kvNamespace, key, value, expirationTtl)
getFromKV(kvNamespace, key)

// Key å‘½åè§„èŒƒ
æ•°æ®å­˜å‚¨: `${dateStr}-${sourceType}`  // å¦‚ '2025-06-10-news'
Session: `session:${sessionId}`

// é»˜è®¤è¿‡æœŸæ—¶é—´: 7 å¤© (86400 * 7 ç§’)
```

### 5. GitHub æ“ä½œæ¨¡å— (`src/github.js`)

```javascript
// æ ¸å¿ƒåŠŸèƒ½
- callGitHubApi(): é€šç”¨ GitHub API å°è£…
- getGitHubFileSha(): è·å–æ–‡ä»¶ SHA (ç”¨äºæ›´æ–°åˆ¤æ–­)
- createOrUpdateGitHubFile(): åˆ›å»ºæˆ–æ›´æ–°æ–‡ä»¶
- getDailyReportContent(): è¯»å–æ—¥æŠ¥å†…å®¹

// æ–‡ä»¶è·¯å¾„è§„èŒƒ
æ—¥æŠ¥: daily/${dateStr}.md
æ’­å®¢: podcast/${dateStr}.md

// Base64 ç¼–ç å¤„ç†
ä½¿ç”¨ UTF-8 å®‰å…¨çš„ Base64 ç¼–ç /è§£ç 
```

---

## ğŸ¨ æ•°æ®æºå®ç°ç¤ºä¾‹

### Folo æ–°é—»èšåˆ (`src/dataSources/newsAggregator.js`)

```javascript
const NewsAggregatorDataSource = {
    type: 'news-aggregator',
    
    async fetch(env, foloCookie) {
        // é…ç½®å‚æ•°
        const listId = env.NEWS_AGGREGATOR_LIST_ID;
        const fetchPages = parseInt(env.NEWS_AGGREGATOR_FETCH_PAGES);
        const filterDays = parseInt(env.FOLO_FILTER_DAYS);
        
        // åˆ†é¡µæŠ“å–
        for (let i = 0; i < fetchPages; i++) {
            const response = await fetch(env.FOLO_DATA_API, {
                method: 'POST',
                headers: {
                    'Cookie': foloCookie,
                    'x-app-name': 'Folo Web',
                    // ... å…¶ä»–è¯·æ±‚å¤´
                },
                body: JSON.stringify({
                    listId,
                    view: 1,
                    withContent: true,
                    publishedAfter: publishedAfter,  // åˆ†é¡µæ¸¸æ ‡
                })
            });
            
            // è¿‡æ»¤æŒ‡å®šå¤©æ•°å†…çš„æ•°æ®
            const filteredItems = data.filter(
                entry => isDateWithinLastDays(entry.entries.publishedAt, filterDays)
            );
        }
    },
    
    transform(rawData, sourceType) {
        return rawData.items.map(item => ({
            id: item.id,
            type: sourceType,
            url: item.url,
            title: item.title,
            description: stripHtml(item.content_html),
            published_date: item.date_published,
            authors: item.authors.map(a => a.name).join(', '),
            source: item.source,
            details: { content_html: item.content_html }
        }));
    },
    
    generateHtml(item) {
        return `
            <strong>${item.title}</strong><br>
            <small>æ¥æº: ${item.source} | å‘å¸ƒæ—¥æœŸ: ${formatDate(item.published_date)}</small>
            <div class="content-html">${item.details.content_html}</div>
            <a href="${item.url}" target="_blank">é˜…è¯»æ›´å¤š</a>
        `;
    }
};
```

### GitHub Trending (`src/dataSources/github-trending.js`)

```javascript
const ProjectsDataSource = {
    type: 'github-trending',
    
    async fetch(env) {
        // ä» GitHub Trending API è·å–é¡¹ç›®
        const projects = await fetchData(env.PROJECTS_API_URL);
        
        // å¯é€‰: ç¿»è¯‘é¡¹ç›®æè¿°ä¸ºä¸­æ–‡
        if (env.OPEN_TRANSLATE === "true") {
            const promptText = `Translate the following English project descriptions to Chinese...`;
            const translations = await callChatAPI(env, promptText);
            // åˆå¹¶ç¿»è¯‘ç»“æœ
        }
        
        return projects;
    },
    
    transform(projectsData, sourceType) {
        return projectsData.map((project, index) => ({
            id: index + 1,
            type: sourceType,
            url: project.url,
            title: project.name,
            description: project.description_zh || project.description,
            published_date: getISODate(),  // è¶‹åŠ¿é¡¹ç›®ä½¿ç”¨å½“å¤©æ—¥æœŸ
            authors: project.owner,
            source: "GitHub Trending",
            details: {
                owner: project.owner,
                language: project.language,
                totalStars: project.totalStars,
                forks: project.forks,
                starsToday: project.starsToday,
            }
        }));
    }
};
```

---

## ğŸ¤– AI æç¤ºè¯ç­–ç•¥

### æ—¥æŠ¥ç”Ÿæˆæç¤ºè¯

```javascript
// src/prompt/summarizationPromptStepZero.js
export function getSystemPromptSummarizationStepOne() {
    return `
    ä½ æ˜¯ä¸€åä¸“ä¸šçš„æ–‡æœ¬æ‘˜è¦åŠ©ç†ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®æ”¶åˆ°çš„æ–‡æœ¬ç±»å‹æ‰§è¡Œç‰¹å®šç±»å‹çš„æ‘˜è¦ã€‚

    é‡è¦é€šç”¨åŸåˆ™ï¼šæ‰€æœ‰æ‘˜è¦å†…å®¹å¿…é¡»ä¸¥æ ¼æ¥æºäºåŸæ–‡ã€‚ä¸å¾—æé€ ã€æ­ªæ›²æˆ–æ·»åŠ åŸæ–‡æœªæåŠçš„ä¿¡æ¯ã€‚
    
    æœ€ç»ˆè¾“å‡ºè¦æ±‚ï¼š
    * å‚ç…§ä»¥ä¸Šæ¡ä»¶ä¼˜åŒ–æ–‡æœ¬å†…å®¹ï¼ŒæŒ‰å†…å®¹è‡ªåŠ¨åˆ†æ®µï¼Œæ®µè½æ•°é‡è¦å’ŒåŸå§‹ä¸€æ ·ã€‚
    * ä»…è¾“å‡ºæœ€ç»ˆç”Ÿæˆçš„æ‘˜è¦ã€‚ä¸è¦åŒ…å«ä»»ä½•è§£é‡Šæ€§æ–‡å­—ã€‚
    * è¾“å‡ºè¯­è¨€ä¸æ ¼å¼ï¼šå†…å®¹å¿…é¡»ä¸ºç®€ä½“ä¸­æ–‡ï¼Œå¹¶ä¸¥æ ¼é‡‡ç”¨ Markdown æ ¼å¼è¿›è¡Œæ’ç‰ˆã€‚
    * å…³é”®è¯é«˜äº®ï¼šè¯·åœ¨å†…å®¹ä¸­è‡ªåŠ¨è¯†åˆ«å¹¶å¯¹æ ¸å¿ƒå…³é”®è¯è¿›è¡ŒåŠ é»‘åŠ ç²—å¤„ç†ã€‚
    * ç»™æœ€ç»ˆå†…å®¹åŠ ä¸Šæ ‡é¢˜ï¼Œå‰ç½®æ ‡é¢˜ä¸º"### **ä»Šæ—¥AIèµ„è®¯**"ã€‚
    * æ®µè½åºåˆ—åŒ–ï¼šåœ¨æ¯ä¸ªç‹¬ç«‹æ®µè½çš„å¼€å¤´æ·»åŠ é˜¿æ‹‰ä¼¯æ•°å­—åºåˆ— (1.ã€2.ã€3.ã€...)ã€‚
    `;
}
```

### æ’­å®¢è„šæœ¬æç¤ºè¯

```javascript
// src/prompt/podcastFormattingPrompt.js
export function getSystemPromptPodcastFormatting(env) {
    return `
    ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„æ’­å®¢è„šæœ¬æ’°å†™äººå’Œç¼–è¾‘ã€‚
    
    é‡è¦åŸåˆ™ï¼šæ‰€æœ‰è„šæœ¬å†…å®¹å¿…é¡»ä¸¥æ ¼åŸºäºæä¾›çš„åŸå§‹å†…å®¹ã€‚ä¸å¾—æé€ ã€æ­ªæ›²æˆ–æ·»åŠ æ‘˜è¦ä¸­æœªåŒ…å«çš„ä¿¡æ¯ã€‚
    
    æ’­å®¢è„šæœ¬è¦æ±‚ï¼š
    - å¼€åœºç™½ç»“æŸè¯­ï¼šå›ºå®šçš„å¼€åœºç™½ï¼š"${env.PODCAST_BEGIN}"ï¼Œç»“æŸè¯­ï¼š"${env.PODCAST_END}"
    - ç›®æ ‡å—ä¼—ï¼šä¸Šç­æ—å’Œå¯¹äººå·¥æ™ºèƒ½æ„Ÿå…´è¶£çš„äººç¾¤
    - æ•´ä½“åŸºè°ƒï¼šè½»æ¾å¹½é»˜ï¼ŒåŒæ—¶èå…¥å¯¹æœªæ¥çš„åæ€å’Œå¯¹æŠ€æœ¯åˆ›æ–°æ½œåœ¨å½±å“çš„è­¦ç¤º
    - ç‰¹åˆ«æ³¨æ„ï¼šé¿å…ä½¿ç”¨è¿‡äºå¤¸å¼ æˆ–è€¸äººå¬é—»çš„è¯è¯­
    - å†…å®¹é£æ ¼ï¼šè¦æœ‰åŒ…è¢±æœ‰æ®µå­ï¼Œåƒå¬å¾å¿—èƒœåœ¨è®²è„±å£ç§€
    - æ—¶é•¿ï¼šæ”¹ç¼–åçš„è„šæœ¬å†…å®¹åº”é€‚åˆ5åˆ†é’Ÿä»¥å†…çš„å£æ’­æ—¶é•¿
    
    ç»“å°¾å¤„ç†ï¼š
    - ä»æ‘˜è¦ä¸­æå–æ ¸å¿ƒå…³é”®è¯å’Œé«˜é¢‘è¯
    - åœ¨è„šæœ¬æœ«å°¾ä»¥"æœ¬æœŸå…³é”®è¯:"ä¸ºæ ‡é¢˜å•ç‹¬åˆ—å‡ºï¼Œæ¯ä¸ªè¯å‰åŠ "#"
    
    è¾“å‡ºæ ¼å¼ï¼šç›´æ¥è¾“å‡ºå®Œæ•´çš„æ’­å®¢è„šæœ¬ï¼Œä¸è¦åŒ…å«ä»»ä½•å…¶ä»–è§£é‡Šæ€§æ–‡å­—ã€‚
    `;
}
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®è¯¦è§£

### `wrangler.toml` é…ç½®é¡¹

```toml
# åŸºç¡€é…ç½®
name = "ai-daily"
main = "src/index.js"
compatibility_date = "2025-05-20"
workers_dev = true

# KV ç»‘å®š
kv_namespaces = [
  { binding = "DATA_KV", id = "your_kv_id" }
]

[vars]
# ===================== åŸºç¡€åŠŸèƒ½é…ç½® =====================
LOGIN_USERNAME = "root"              # ç™»å½•ç”¨æˆ·å
LOGIN_PASSWORD = "toor"              # ç™»å½•å¯†ç 
DAILY_TITLE = "AIæ´å¯Ÿæ—¥æŠ¥"            # æ—¥æŠ¥æ ‡é¢˜
DAILY_TITLE_MIN = " `AI æ—¥æŠ¥` "       # æ—¥æŠ¥å‰¯æ ‡é¢˜
PODCAST_TITLE = "æ¥ç”Ÿå°é…’é¦†"          # æ’­å®¢æ ‡é¢˜
PODCAST_BEGIN = "å¼€åœºç™½..."           # æ’­å®¢å¼€åœºç™½
PODCAST_END = "ç»“æŸè¯­..."             # æ’­å®¢ç»“æŸè¯­

# ===================== AI æ¨¡å‹é…ç½® =====================
USE_MODEL_PLATFORM = "GEMINI"         # ä½¿ç”¨å¹³å°: GEMINI | OPEN
OPEN_TRANSLATE = "true"               # æ˜¯å¦ç¿»è¯‘è‹±æ–‡å†…å®¹

# Gemini é…ç½®
GEMINI_API_KEY = "your_api_key"
GEMINI_API_URL = "https://generativelanguage.googleapis.com"
DEFAULT_GEMINI_MODEL = "gemini-2.5-flash-preview-05-20"

# OpenAI å…¼å®¹ API é…ç½®
OPENAI_API_KEY = "sk-xxx"
OPENAI_API_URL = "https://api.deepseek.com"
DEFAULT_OPEN_MODEL = "deepseek-chat"

# ===================== GitHub å‘å¸ƒé…ç½® =====================
GITHUB_TOKEN = "github_pat_xxx"       # GitHub Personal Access Token
GITHUB_REPO_OWNER = "username"        # ä»“åº“æ‰€æœ‰è€…
GITHUB_REPO_NAME = "repo-name"        # ä»“åº“åç§°
GITHUB_BRANCH = "main"                # ç›®æ ‡åˆ†æ”¯

# ===================== å†…å®¹æºé…ç½® =====================
# Folo é€šç”¨é…ç½®
FOLO_COOKIE_KV_KEY = "folo_auth_cookie"
FOLO_DATA_API = "https://api.follow.is/entries"
FOLO_FILTER_DAYS = 1                  # æŠ“å–æœ€è¿‘ N å¤©çš„æ•°æ®

# å„æ•°æ®æº List ID å’ŒæŠ“å–é¡µæ•°
NEWS_AGGREGATOR_LIST_ID = "xxx"
NEWS_AGGREGATOR_FETCH_PAGES = "1"
HGPAPERS_LIST_ID = "xxx"
HGPAPERS_FETCH_PAGES = "1"
TWITTER_LIST_ID = "xxx"
TWITTER_FETCH_PAGES = "1"
REDDIT_LIST_ID = "xxx"
REDDIT_FETCH_PAGES = "1"

# GitHub Trending API
PROJECTS_API_URL = "https://git-trending.xxx.vip/topone/?since=daily"

# ===================== å…¶ä»–é…ç½® =====================
IMG_PROXY = ""                        # å›¾ç‰‡ä»£ç†é“¾æ¥
INSERT_FOOT = "false"                 # æ˜¯å¦æ’å…¥é¡µè„š
INSERT_AD = "false"                   # æ˜¯å¦æ’å…¥å¹¿å‘Š
BOOK_LINK = ""                        # ä¹¦ç±é“¾æ¥
INSERT_APP_URL = "..."                # åº”ç”¨é“¾æ¥
```

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€: GitHub Actions (æ¨è)

```yaml
# .github/workflows/build-daily-book.yml
name: Build and Deploy Daily Book

on:
  schedule:
    - cron: '0 16 * * *'  # æ¯å¤© UTC 16:00 (åŒ—äº¬æ—¶é—´ 00:00)
  workflow_dispatch:       # æ”¯æŒæ‰‹åŠ¨è§¦å‘

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build with mdBook
        run: |
          # å®‰è£… mdBook
          # æ„å»ºé™æ€ç«™ç‚¹
          # éƒ¨ç½²åˆ° GitHub Pages
```

### æ–¹æ¡ˆäºŒ: Docker æœ¬åœ°éƒ¨ç½²

```dockerfile
# cron-docker/Dockerfile
FROM alpine:latest

# å®‰è£…ä¾èµ–
RUN apk add --no-cache git curl bash

# é…ç½®å®šæ—¶ä»»åŠ¡
RUN echo "0 0 * * * /scripts/build.sh" >> /etc/crontabs/root

# å¯åŠ¨ cron
CMD ["crond", "-f"]
```

---

## ğŸ”Œ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°æ•°æ®æº

1. **åˆ›å»ºæ•°æ®æºæ–‡ä»¶**: `src/dataSources/yourNewSource.js`

```javascript
const YourNewDataSource = {
    type: 'your-source-type',
    
    async fetch(env, foloCookie) {
        // å®ç°æ•°æ®æŠ“å–é€»è¾‘
        const response = await fetch(env.YOUR_API_URL);
        return await response.json();
    },
    
    transform(rawData, sourceType) {
        // è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
        return rawData.items.map(item => ({
            id: item.id,
            type: sourceType,
            url: item.url,
            title: item.title,
            description: item.description,
            published_date: item.publishedAt,
            authors: item.author,
            source: 'Your Source Name',
            details: { /* é¢å¤–å­—æ®µ */ }
        }));
    },
    
    generateHtml(item) {
        // å¯é€‰: è‡ªå®šä¹‰ HTML æ¸²æŸ“
        return `<strong>${item.title}</strong>...`;
    }
};

export default YourNewDataSource;
```

2. **æ³¨å†Œæ•°æ®æº**: `src/dataFetchers.js`

```javascript
import YourNewDataSource from './dataSources/yourNewSource.js';

export const dataSources = {
    // æ·»åŠ åˆ°ç°æœ‰åˆ†ç±»
    news: { name: 'æ–°é—»', sources: [..., YourNewDataSource] },
    
    // æˆ–åˆ›å»ºæ–°åˆ†ç±»
    yourCategory: { name: 'æ–°åˆ†ç±»', sources: [YourNewDataSource] },
};
```

3. **é…ç½®ç¯å¢ƒå˜é‡**: `wrangler.toml`

```toml
[vars]
YOUR_API_URL = "https://api.yoursource.com"
YOUR_API_KEY = "xxx"
```

---

## ğŸ“Š æ•°æ®æµè½¬ç¤ºæ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ•°æ®æµè½¬                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[å¤–éƒ¨æ•°æ®æº]                    [Cloudflare Workers]                [å­˜å‚¨/å‘å¸ƒ]
                                       â”‚
Folo API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
GitHub Trending â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–º /writeData â”€â”¼â”€â”€â”€â–º KV Store
HuggingFace â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      (æŠ“å–è½¬æ¢)  â”‚     (æ—¥æœŸ+åˆ†ç±»)
Twitter/Reddit â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                                       â”‚
                                       â–¼
                              /getContentHtml
                                 (å±•ç¤ºé€‰æ‹©)
                                       â”‚
                            ç”¨æˆ·å‹¾é€‰å†…å®¹ â”‚
                                       â–¼
                              /genAIContent â”€â”€â”€â”€â”€â”€â”€â–º Gemini API
                               (AI æ—¥æŠ¥ç”Ÿæˆ)              â”‚
                                       â”‚                 â”‚
                                       â–¼                 â”‚
                            /genAIPodcastScript â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               (æ’­å®¢è„šæœ¬ç”Ÿæˆ)
                                       â”‚
                                       â–¼
                              /commitToGitHub â”€â”€â”€â”€â”€â”€â”€â”€â–º GitHub Repo
                                  (æäº¤å‘å¸ƒ)             (daily/*.md)
                                                        (podcast/*.md)
                                                             â”‚
                                                             â–¼
                                                      GitHub Actions
                                                        (mdBook æ„å»º)
                                                             â”‚
                                                             â–¼
                                                       GitHub Pages
                                                        (é™æ€ç«™ç‚¹)
                                                             â”‚
                                                             â–¼
                                                         RSS Feed
                                                        (è®¢é˜…åˆ†å‘)
```

---

## ğŸ¯ è®¾è®¡äº®ç‚¹

### 1. äººæœºåä½œç†å¿µ

> "AI æ˜¯å¢å¼ºäººç±»æ™ºæ…§çš„å¼ºå¤§**å·¥å…·**ï¼Œè€Œé**æ›¿ä»£å“**ã€‚"

- **æ‰‹åŠ¨å‹¾é€‰**ï¼šä¿ç•™äººçš„åˆ¤æ–­åŠ›ï¼Œæ—¥æŠ¥åæ˜ å½“æ—¥æ€è€ƒçš„çœŸå®å¿«ç…§
- **AI è¾…åŠ©**ï¼šè‡ªåŠ¨åŒ–ç¹ççš„ä¿¡æ¯ç­›é€‰å’Œæ ¼å¼åŒ–å·¥ä½œ

### 2. å¯æ‰©å±•æ¶æ„

- **æ•°æ®æºæ’ä»¶åŒ–**ï¼šç»Ÿä¸€æ¥å£è§„èŒƒï¼Œè½»æ¾æ·»åŠ æ–°æ•°æ®æº
- **AI æ¨¡å‹å¯åˆ‡æ¢**ï¼šæ”¯æŒ Geminiã€OpenAI å…¼å®¹ API
- **æç¤ºè¯æ¨¡å—åŒ–**ï¼šç‹¬ç«‹çš„æç¤ºè¯æ–‡ä»¶ï¼Œä¾¿äºä¼˜åŒ–è¿­ä»£

### 3. Serverless ä¼˜åŠ¿

- **é›¶æœåŠ¡å™¨ç»´æŠ¤**ï¼šCloudflare Workers è¾¹ç¼˜è®¡ç®—
- **æŒ‰éœ€ä»˜è´¹**ï¼šå…è´¹é¢åº¦å……è¶³ï¼Œé€‚åˆä¸ªäººä½¿ç”¨
- **å…¨çƒåŠ é€Ÿ**ï¼šè¾¹ç¼˜èŠ‚ç‚¹åˆ†å¸ƒï¼Œè®¿é—®é€Ÿåº¦å¿«

### 4. å®Œæ•´å‘å¸ƒé“¾è·¯

- **æ•°æ®æŠ“å– â†’ AI ç”Ÿæˆ â†’ GitHub å­˜å‚¨ â†’ é™æ€ç«™ç‚¹ â†’ RSS è®¢é˜…**
- å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œä¸€é”®å®Œæˆ

---

## ğŸ“ æ€»ç»“

**CloudFlare-AI-Insight-Daily** æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜é›…ã€æ¶æ„æ¸…æ™°çš„ AI èµ„è®¯èšåˆå¹³å°ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼š

1. **æŠ€æœ¯æ ˆå…ˆè¿›**ï¼šåŸºäº Cloudflare Workers çš„ Serverless æ¶æ„ï¼Œé›¶è¿ç»´æˆæœ¬
2. **AI é›†æˆå®Œå–„**ï¼šæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ï¼Œæç¤ºè¯å·¥ç¨‹æˆç†Ÿ
3. **æ‰©å±•æ€§å¼º**ï¼šæ’ä»¶åŒ–æ•°æ®æºæ¶æ„ï¼Œæ˜“äºå®šåˆ¶
4. **äººæœºåä½œ**ï¼šä¿ç•™äººçš„åˆ¤æ–­åŠ›ï¼ŒAI è´Ÿè´£ç¹çå·¥ä½œ
5. **å‘å¸ƒé“¾è·¯å®Œæ•´**ï¼šä»æ•°æ®æŠ“å–åˆ°é™æ€ç«™ç‚¹å‘å¸ƒå…¨è‡ªåŠ¨åŒ–

é¡¹ç›®é€‚åˆä½œä¸ºå­¦ä¹  Serverless + AI é›†æˆçš„å®æˆ˜èŒƒä¾‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ Fork åå®šåˆ¶ä¸ºä¸ªäººä¸“å±çš„ä»»ä½•ä¸»é¢˜æ—¥æŠ¥ã€‚

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025å¹´12æœˆ10æ—¥*

